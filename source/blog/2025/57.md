---
createTime: 2025/12/08 08:16:55
tags: ["AI"]
---

# 如何在 Cursor 中使用 Agent？—— 不要随便重启会话



Cursor 中最最重要的东西就是 Agent，我刚拿到这个软件的时候和使用其他 IDE 一样，是不查看使用说明的。好的产品应该让用户无师自通不是吗？但是不对，我们使用的是 AI IDE，我们在浏览器聊天窗口中使用 AI 还需要学习 Prompt 的写法呢，为什么使用一个更高级的 AI IDE 就有自信能充分使用其全部功能呢？



事实上我是对的，我是学习一遍后，发现确实值得学习。



首先明确，什么是 Agent？



Agent 是能自主感知、思考、决策、行动的智能体。它不仅能自动感知，还能自行决策和行动，它就如小说中的角色，有性格，有主观能动性。



Agent 的工作原理、机制是什么？



Agent 是一个可以自主行动，取得反馈并自我纠正、自我完善进化的智能体。它的核心运行机制有六个节点：感知 -> 判断 -> 计划 -> 行动 -> 反思 -> 记忆，这是一个循环，不断运行，可以不断优化。



Agent 的窗口是可以多标签并存的。按 Cmd+T 可以打开新的对话窗口，多个窗口理论上可以并行执行任务，只要电脑 XPU 够好。每个窗口可以保留独立的对话列表、上下文、模型选择。



在输入框内，使用 /summarize 指令可以总结上下文摘要。这个东西在我们想让 AI 总结经验并自动塞入知识库软件时特别有用。



自定义命令真是一个大杀器！所有自定义命令都可以在输入框中使用斜杠开启。如图所示，这是一个 “新开发者入职” 命令（这仅是一个示例），给出这个指令，Agent 真的会按照步骤执行任务，并最终检查清单。



![img](assets/1997822381455142913.jpg)



自定义命令就是一套结构化的提示语，将成熟的、有效的提示语，化成一个命令，可以一键执行。它的威力就在这里 ，例如在小说创作里，有一些事情是常规化的，是有套路的，例如设计人物、设计章纲、描写环境、设计对话、刻画 心理等，所有的这些都可以化成命令，一键执行。一个字，酷！这个东西就是我不学习不知道的。



Cursor 有三个模式：Ask、Plan、Agent。之前提到过，在开发任何项目之前，都要先了解必要的底层架构、核心原理及运行机制，示例要看，文档也要看，这个功夫是少不了的，即慢即是快，要耐心准备，否则以后要交学费。这个 和 AI 一起学习的过程，就适合用 Ask 模式，用 Shift+Tab 就可以切换。Plan 模式适合在项目开始时做架构，这是展现我们思想的时候，也是我们充分领导、管理 Agent 的时候。最后一个 Agent 模式，可以称为开发模式，调试 Bug，增加功能，大概都可以用这个模式。



有一点我觉得很重要，对于每个窗口，模式的选择只是表象，模式是可以切换的，窗口一旦开启，我觉得不要随意关闭 ，不要随意重启会话。在一个会话中，为了让进展顺利，有时候我们必须先让 AI 学习，学习知识和技能，接着又要 让它熟悉我们的思想和癖好，如果重启会话，这一切都要重来。当我们觉得 AI 飘的时候，出现幻觉的时候，可以用 语气调温，例如使用？？？和！！！加重我们的语气，让 AI 觉得事态变严重了，这样它的温度会降低，自然就会严 谨起来。不要任何时候都用 “请”，客客气气的并不能办好事。



还有一点，把常用的提示语汇集成命令，编成可以斜杠开启的快捷指令，在必须重启的时候使用，以加快开发速度！



@browser，原来这样艾特浏览器就可以打开并控制浏览器！此时浏览器就像一个外展的手臂，页面元素可以查找、点击，控制 台信息可以读取，简直没有什么东西是它干不了的。只会点点页面按钮的低级 Web 测试工程师确实不需要了，彻底进入历史了。这也是一个让我惊奇的功能，有这个功能，进行 web 调试方便多了。



使用钩子（hooks）可以搞一些小动作。



Agent 支持在 .cursor/hooks.json 中定义在某些节点执行的脚本，例如在命令执行前、执行后，在 mcp 执行前、执 行后，在文件读写前、读写后，还有在提示语提交前，在 Agent 响应后，每个钩子都有自己的参数，设置好，就会自动工作。



这项技术是桌面软件常用的伎俩，算不得是什么新奇的玩意，是古为今用了。



云端 Agent 让我们可以在 Cursor 的 Ubuntu 服务器执行我们的意图。这适合成熟操作的流水线作业，例如在线批改 培训班作业等。



好了，Agent 大概就这些东西。不复杂，但很有用。



📅 2025 年 12 月 8 日周一
